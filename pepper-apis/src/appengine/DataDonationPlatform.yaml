service: pepper-backend
runtime: java
env: flex

resources:
  cpu: 4
  memory_gb: 15
  disk_size_gb: 5

manual_scaling:
  instances: 1

readiness_check:
  path: "/v1/healthcheck"
  check_interval_sec: 30
  timeout_sec: 4
  failure_threshold: 2
  success_threshold: 2

network:
  instance_tag: study-server # necessary for firewall rules so that DSM will accept https requests from pepper

entrypoint: java -Xmx820m -Xmx820m -jar DataDonationPlatform.jar

# GAE does not like the "=" character in entrypoint and does not support "." in environment variables
env_variables:
  config_file: application.conf
  ddp_firecloudKeysDir: fc_keys

