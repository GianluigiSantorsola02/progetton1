{
  include required("../snippets/activity-general-form.conf"),
  "studyGuid": ${id.study},
  "activityCode": ${id.act.test_result},
  "versionTag": "v1",
  "displayOrder": 6,
  "writeOnce": true,
  "maxInstancesPerUser": null,
  "translatedNames": [
    { "language": "en", "text": ${i18n.en.testresult.name} },
    { "language": "es", "text": ${i18n.es.testresult.name} },
    { "language": "ht", "text": ${i18n.ht.testresult.name} }
  ],
  "translatedTitles": [
    { "language": "en", "text": ${i18n.en.testresult.title} },
    { "language": "es", "text": ${i18n.es.testresult.title} },
    { "language": "ht", "text": ${i18n.ht.testresult.title} }
  ],
  "sections": [
    {
      "nameTemplate": null,
      "icons": [],
      "blocks": [
        {
          "titleTemplate": null,
          "bodyTemplate": {
            "templateType": "HTML",
            "templateText": """
          <p>$testresult_studyid</p>
          <p>$testresult_dob</p>
          <p class="static-text">$ddp.participantBirthDate</p>
          <p>$testresult_testdate</p>
          <p class="static-text">$ddp.testResultTimeCompleted</p>
          <p>$testresult_result</p>
          <p class="static-text">$ddp.testResultCode</p>
        """,
            "variables": [
              {
                "name": "testresult_studyid",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_studyid} },
                  { "language": "es", "text": ${i18n.es.testresult_studyid} },
                  { "language": "ht", "text": ${i18n.ht.testresult_studyid} }
                ]
              },
              {
                "name": "testresult_dob",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_dob} },
                  { "language": "es", "text": ${i18n.es.testresult_dob} },
                  { "language": "ht", "text": ${i18n.ht.testresult_dob} }
                ]
              },
              {
                "name": "testresult_testdate",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_testdate} },
                  { "language": "es", "text": ${i18n.es.testresult_testdate} },
                  { "language": "ht", "text": ${i18n.ht.testresult_testdate} }
                ]
              },
              {
                "name": "testresult_result",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_result} },
                  { "language": "es", "text": ${i18n.es.testresult_result} },
                  { "language": "ht", "text": ${i18n.ht.testresult_result} }
                ]
              },
            ]
          },
          "blockType": "CONTENT"
        },

        {
          "titleTemplate":{
            "templateType": "HTML",
            "templateText": "<h3>$testresult_info</h3>",
            "variables": [
              {
                "name": "testresult_info",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_info} },
                  { "language": "es", "text": ${i18n.es.testresult_info} },
                  { "language": "ht", "text": ${i18n.ht.testresult_info} }
                ]
              }
            ]
          },
          "bodyTemplate": {
            "templateType": "HTML",
            "templateText": """
          <p>$testresult_info_pos_p1</p>
          <p>$testresult_info_pos_p2</p>
          <p>$testresult_info_pos_p3</p>
          <p>$testresult_info_pos_p4</p>
          <p>$testresult_info_pos_p5</p>
          <p>$testresult_info_pos_p6</p>
          <p>$testresult_info_pos_p7</p>
        """,
            "variables": [
              {
                "name": "testresult_info_pos_p1",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_info_pos} },
                  { "language": "es", "text": ${i18n.es.testresult_info_pos} },
                  { "language": "ht", "text": ${i18n.ht.testresult_info_pos} }
                ]
              },
              {
                "name": "testresult_info_pos_p2",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_info_p2} },
                  { "language": "es", "text": ${i18n.es.testresult_info_p2} },
                  { "language": "ht", "text": ${i18n.ht.testresult_info_p2} }
                ]
              },
              {
                "name": "testresult_info_pos_p3",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_info_pos_p3} },
                  { "language": "es", "text": ${i18n.es.testresult_info_pos_p3} },
                  { "language": "ht", "text": ${i18n.ht.testresult_info_pos_p3} }
                ]
              },
              {
                "name": "testresult_info_pos_p4",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_info_pos_p4} },
                  { "language": "es", "text": ${i18n.es.testresult_info_pos_p4} },
                  { "language": "ht", "text": ${i18n.ht.testresult_info_pos_p4} }
                ]
              },
              {
                "name": "testresult_info_pos_p5",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_info_pos_p5} },
                  { "language": "es", "text": ${i18n.es.testresult_info_pos_p5} },
                  { "language": "ht", "text": ${i18n.ht.testresult_info_pos_p5} }
                ]
              },
              {
                "name": "testresult_info_pos_p6",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_info_pos_p6} },
                  { "language": "es", "text": ${i18n.es.testresult_info_pos_p6} },
                  { "language": "ht", "text": ${i18n.ht.testresult_info_pos_p6} }
                ]
              },
              {
                "name": "testresult_info_pos_p7",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_info_contact} },
                  { "language": "es", "text": ${i18n.es.testresult_info_contact} },
                  { "language": "ht", "text": ${i18n.ht.testresult_info_contact} }
                ]
              },
            ]
          },
          "blockType": "CONTENT"
          //"shownExpr": """user.studies["testboston"].forms["TEST_RESULT"].questions["RESULT_CODE"].answers.hasText("POSITIVE")"""
          //$ddp.testResultCode == "POSITIVE"
        },

        {
          "titleTemplate":{
            "templateType": "HTML",
            "templateText": "<h3>$testresult_neg_info</h3>",
            "variables": [
              {
                "name": "testresult_neg_info",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_info} },
                  { "language": "es", "text": ${i18n.es.testresult_info} },
                  { "language": "ht", "text": ${i18n.ht.testresult_info} }
                ]
              }
            ]
          },
          "bodyTemplate": {
            "templateType": "HTML",
            "templateText": """
          <p>$testresult_info_neg_p1</p>
          <p>$testresult_info_neg_p2</p>
          <p>$testresult_info_neg_p3</p>
          <p>$testresult_info_neg_p4</p>
        """,
            "variables": [
              {
                "name": "testresult_info_neg_p1",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_info_neg} },
                  { "language": "es", "text": ${i18n.es.testresult_info_neg} },
                  { "language": "ht", "text": ${i18n.ht.testresult_info_neg} }
                ]
              },
              {
                "name": "testresult_info_neg_p2",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_info_p2} },
                  { "language": "es", "text": ${i18n.es.testresult_info_p2} },
                  { "language": "ht", "text": ${i18n.ht.testresult_info_p2} }
                ]
              },
              {
                "name": "testresult_info_neg_p3",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_info_neg_p3} },
                  { "language": "es", "text": ${i18n.es.testresult_info_neg_p3} },
                  { "language": "ht", "text": ${i18n.ht.testresult_info_neg_p3} }
                ]
              },
              {
                "name": "testresult_info_neg_p4",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_info_contact} },
                  { "language": "es", "text": ${i18n.es.testresult_info_contact} },
                  { "language": "ht", "text": ${i18n.ht.testresult_info_contact} }
                ]
              },
            ]
          },
          "blockType": "CONTENT"
          //"shownExpr": """user.studies["testboston"].forms["TEST_RESULT"].questions["RESULT_CODE"].answers.hasText("NEGATIVE")"""
          //$ddp.testResultCode == "NEGATIVE"
        },

        {
          "titleTemplate":{
            "templateType": "HTML",
            "templateText": "<h3>$testresult_other_info</h3>",
            "variables": [
              {
                "name": "testresult_other_info",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_info} },
                  { "language": "es", "text": ${i18n.es.testresult_info} },
                  { "language": "ht", "text": ${i18n.ht.testresult_info} }
                ]
              }
            ]
          },
          "bodyTemplate": {
            "templateType": "HTML",
            "templateText": """
          <p>$testresult_info_other_p1</p>
          <p>$testresult_info_other_r1</p>
          <p>$testresult_info_other_r2</p>
          <p>$testresult_info_other_r3</p>
          <p>$testresult_info_other_r4</p>
        """,
            "variables": [
              {
                "name": "testresult_info_other_p1",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_info_other} },
                  { "language": "es", "text": ${i18n.es.testresult_info_other} },
                  { "language": "ht", "text": ${i18n.ht.testresult_info_other} }
                ]
              },
              {
                "name": "testresult_info_other_r1",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_info_other_reason1} },
                  { "language": "es", "text": ${i18n.es.testresult_info_other_reason1} },
                  { "language": "ht", "text": ${i18n.ht.testresult_info_other_reason1} }
                ]
              },
              {
                "name": "testresult_info_other_r2",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_info_other_reason2} },
                  { "language": "es", "text": ${i18n.es.testresult_info_other_reason2} },
                  { "language": "ht", "text": ${i18n.ht.testresult_info_other_reason2} }
                ]
              },
              {
                "name": "testresult_info_other_r3",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_info_other_reason3} },
                  { "language": "es", "text": ${i18n.es.testresult_info_other_reason3} },
                  { "language": "ht", "text": ${i18n.ht.testresult_info_other_reason3} }
                ]
              },
              {
                "name": "testresult_info_other_r4",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_info_other_reason4} },
                  { "language": "es", "text": ${i18n.es.testresult_info_other_reason4} },
                  { "language": "ht", "text": ${i18n.ht.testresult_info_other_reason4} }
                ]
              },
            ]
          },
          "blockType": "CONTENT"
          //"shownExpr": """user.studies["testboston"].forms["TEST_RESULT"].questions["RESULT_CODE"].answers.hasText("Unsatisfactory sample")"""
          //$ddp.testResultCode == "Unsatisfactory sample"
        },

        {
          "titleTemplate":{
            "templateType": "HTML",
            "templateText": "<h3>$testresult_more_info</h3>",
            "variables": [
              {
                "name": "testresult_more_info",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_more_info} },
                  { "language": "es", "text": ${i18n.es.testresult_more_info} },
                  { "language": "ht", "text": ${i18n.ht.testresult_more_info} }
                ]
              }
            ]
          },
          "bodyTemplate": {
            "templateType": "HTML",
            "templateText": """
          <p>$testresult_more_info_p1</p>
          <p>$testresult_more_info_p2</p>
          <p>$testresult_more_info_p3</p>
        """,
            "variables": [
              {
                "name": "testresult_more_info_p1",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_more_info_p1} },
                  { "language": "es", "text": ${i18n.es.testresult_more_info_p1} },
                  { "language": "ht", "text": ${i18n.ht.testresult_more_info_p1} }
                ]
              },
              {
                "name": "testresult_more_info_p2",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_more_info_p2} },
                  { "language": "es", "text": ${i18n.es.testresult_more_info_p2} },
                  { "language": "ht", "text": ${i18n.ht.testresult_more_info_p2} }
                ]
              },
              {
                "name": "testresult_more_info_p3",
                "translations": [
                  { "language": "en", "text": ${i18n.en.testresult_more_info_p3} },
                  { "language": "es", "text": ${i18n.es.testresult_more_info_p3} },
                  { "language": "ht", "text": ${i18n.ht.testresult_more_info_p3} }
                ]
              },
            ]
          },
          "blockType": "CONTENT"
        }
      ]
    }
  ]
}
